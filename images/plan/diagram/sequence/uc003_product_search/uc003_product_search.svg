<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1217px" preserveAspectRatio="none" style="width:899px;height:1217px;background:#FFFFFF;" version="1.1" viewBox="0 0 899 1217" width="899px" zoomAndPan="magnify"><defs/><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="291" x="303" y="29.4023">UC003: 商品検索機能 シーケンス図</text><rect fill="#FFFFFF" height="987.248" style="stroke:#A80036;stroke-width:1.0;" width="10" x="24" y="129.6875"/><rect fill="#FFFFFF" height="631.5215" style="stroke:#A80036;stroke-width:1.0;" width="10" x="136" y="150.998"/><rect fill="#FFFFFF" height="262.7949" style="stroke:#A80036;stroke-width:1.0;" width="10" x="136" y="854.1406"/><rect fill="#FFFFFF" height="146.5527" style="stroke:#A80036;stroke-width:1.0;" width="10" x="317" y="315.5508"/><rect fill="#FFFFFF" height="146.5527" style="stroke:#A80036;stroke-width:1.0;" width="10" x="425" y="491.4141"/><rect fill="#FFFFFF" height="146.5527" style="stroke:#A80036;stroke-width:1.0;" width="10" x="425" y="883.4512"/><rect fill="#FFFFFF" height="87.9316" style="stroke:#A80036;stroke-width:1.0;" width="10" x="570" y="520.7246"/><rect fill="#FFFFFF" height="87.9316" style="stroke:#A80036;stroke-width:1.0;" width="10" x="570" y="912.7617"/><rect fill="#FFFFFF" height="87.9316" style="stroke:#A80036;stroke-width:1.0;" width="10" x="688" y="344.8613"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#A80036;stroke-width:1.0;" width="10" x="869" y="374.1719"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#A80036;stroke-width:1.0;" width="10" x="869" y="550.0352"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#A80036;stroke-width:1.0;" width="10" x="869" y="942.0723"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="29" x2="29" y1="119.6875" y2="1134.9355"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="141" x2="141" y1="119.6875" y2="1134.9355"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="321.5" x2="321.5" y1="119.6875" y2="1134.9355"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="429.5" x2="429.5" y1="119.6875" y2="1134.9355"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="574.5" x2="574.5" y1="119.6875" y2="1134.9355"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="692.5" x2="692.5" y1="119.6875" y2="1134.9355"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="874" x2="874" y1="119.6875" y2="1134.9355"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42" x="5" y="116.7344">ユーザ</text><ellipse cx="29" cy="50.1992" fill="#FEFECE" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M29,58.1992 L29,85.1992 M16,66.1992 L42,66.1992 M29,85.1992 L16,100.1992 M29,85.1992 L42,100.1992 " fill="none" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42" x="5" y="1147.4707">ユーザ</text><ellipse cx="29" cy="1160.4238" fill="#FEFECE" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M29,1168.4238 L29,1195.4238 M16,1176.4238 L42,1176.4238 M29,1195.4238 L16,1210.4238 M29,1195.4238 L42,1210.4238 " fill="none" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" height="46.9766" style="stroke:#A80036;stroke-width:1.5;" width="90" x="96" y="71.7109"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76" x="103" y="92.2461">ProductList</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="106" y="108.7344">Controller</text><rect fill="#FEFECE" height="46.9766" style="stroke:#A80036;stroke-width:1.5;" width="90" x="96" y="1133.9355"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76" x="103" y="1154.4707">ProductList</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="106" y="1170.959">Controller</text><rect fill="#FEFECE" height="46.9766" style="stroke:#A80036;stroke-width:1.5;" width="129" x="257.5" y="71.7109"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="115" x="264.5" y="92.2461">ProductCategory</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="48" x="298" y="108.7344">Service</text><rect fill="#FEFECE" height="46.9766" style="stroke:#A80036;stroke-width:1.5;" width="129" x="257.5" y="1133.9355"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="115" x="264.5" y="1154.4707">ProductCategory</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="48" x="298" y="1170.959">Service</text><rect fill="#FEFECE" height="46.9766" style="stroke:#A80036;stroke-width:1.5;" width="67" x="396.5" y="71.7109"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="53" x="403.5" y="92.2461">Product</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="48" x="406" y="108.7344">Service</text><rect fill="#FEFECE" height="46.9766" style="stroke:#A80036;stroke-width:1.5;" width="67" x="396.5" y="1133.9355"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="53" x="403.5" y="1154.4707">Product</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="48" x="406" y="1170.959">Service</text><rect fill="#FEFECE" height="46.9766" style="stroke:#A80036;stroke-width:1.5;" width="87" x="531.5" y="71.7109"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="53" x="548.5" y="92.2461">Product</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73" x="538.5" y="108.7344">Repository</text><rect fill="#FEFECE" height="46.9766" style="stroke:#A80036;stroke-width:1.5;" width="87" x="531.5" y="1133.9355"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="53" x="548.5" y="1154.4707">Product</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73" x="538.5" y="1170.959">Repository</text><rect fill="#FEFECE" height="46.9766" style="stroke:#A80036;stroke-width:1.5;" width="129" x="628.5" y="71.7109"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="115" x="635.5" y="92.2461">ProductCategory</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73" x="656.5" y="108.7344">Repository</text><rect fill="#FEFECE" height="46.9766" style="stroke:#A80036;stroke-width:1.5;" width="129" x="628.5" y="1133.9355"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="115" x="635.5" y="1154.4707">ProductCategory</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73" x="656.5" y="1170.959">Repository</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="18" x="862" y="116.7344">DB</text><path d="M856,67.1992 C856,57.1992 874,57.1992 874,57.1992 C874,57.1992 892,57.1992 892,67.1992 L892,93.1992 C892,103.1992 874,103.1992 874,103.1992 C874,103.1992 856,103.1992 856,93.1992 L856,67.1992 " fill="#FEFECE" style="stroke:#000000;stroke-width:1.5;"/><path d="M856,67.1992 C856,77.1992 874,77.1992 874,77.1992 C874,77.1992 892,77.1992 892,67.1992 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="18" x="862" y="1147.4707">DB</text><path d="M856,1160.4238 C856,1150.4238 874,1150.4238 874,1150.4238 C874,1150.4238 892,1150.4238 892,1160.4238 L892,1186.4238 C892,1196.4238 874,1196.4238 874,1196.4238 C874,1196.4238 856,1196.4238 856,1186.4238 L856,1160.4238 " fill="#FEFECE" style="stroke:#000000;stroke-width:1.5;"/><path d="M856,1160.4238 C856,1170.4238 874,1170.4238 874,1170.4238 C874,1170.4238 892,1170.4238 892,1160.4238 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><rect fill="#FFFFFF" height="987.248" style="stroke:#A80036;stroke-width:1.0;" width="10" x="24" y="129.6875"/><rect fill="#FFFFFF" height="631.5215" style="stroke:#A80036;stroke-width:1.0;" width="10" x="136" y="150.998"/><rect fill="#FFFFFF" height="262.7949" style="stroke:#A80036;stroke-width:1.0;" width="10" x="136" y="854.1406"/><rect fill="#FFFFFF" height="146.5527" style="stroke:#A80036;stroke-width:1.0;" width="10" x="317" y="315.5508"/><rect fill="#FFFFFF" height="146.5527" style="stroke:#A80036;stroke-width:1.0;" width="10" x="425" y="491.4141"/><rect fill="#FFFFFF" height="146.5527" style="stroke:#A80036;stroke-width:1.0;" width="10" x="425" y="883.4512"/><rect fill="#FFFFFF" height="87.9316" style="stroke:#A80036;stroke-width:1.0;" width="10" x="570" y="520.7246"/><rect fill="#FFFFFF" height="87.9316" style="stroke:#A80036;stroke-width:1.0;" width="10" x="570" y="912.7617"/><rect fill="#FFFFFF" height="87.9316" style="stroke:#A80036;stroke-width:1.0;" width="10" x="688" y="344.8613"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#A80036;stroke-width:1.0;" width="10" x="869" y="374.1719"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#A80036;stroke-width:1.0;" width="10" x="869" y="550.0352"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#A80036;stroke-width:1.0;" width="10" x="869" y="942.0723"/><polygon fill="#A80036" points="124,146.998,134,150.998,124,154.998,128,150.998" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="34" x2="130" y1="150.998" y2="150.998"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="28" x="41" y="146.2559">list()</text><line style="stroke:#A80036;stroke-width:1.0;" x1="146" x2="188" y1="184.4639" y2="184.4639"/><line style="stroke:#A80036;stroke-width:1.0;" x1="188" x2="188" y1="184.4639" y2="197.4639"/><line style="stroke:#A80036;stroke-width:1.0;" x1="147" x2="188" y1="197.4639" y2="197.4639"/><polygon fill="#A80036" points="157,193.4639,147,197.4639,157,201.4639,153,197.4639" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="153" y="179.7217">セッション破棄</text><path d="M256,163.998 L256,203.998 L472,203.998 L472,173.998 L462,163.998 L256,163.998 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><path d="M462,163.998 L462,173.998 L472,173.998 L462,163.998 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="195" x="262" y="181.5664">他コントローラで破棄していない</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130" x="262" y="196.877">セッションを一斉破棄</text><line style="stroke:#A80036;stroke-width:1.0;" x1="146" x2="188" y1="230.9297" y2="230.9297"/><line style="stroke:#A80036;stroke-width:1.0;" x1="188" x2="188" y1="230.9297" y2="243.9297"/><line style="stroke:#A80036;stroke-width:1.0;" x1="147" x2="188" y1="243.9297" y2="243.9297"/><polygon fill="#A80036" points="157,239.9297,147,243.9297,157,247.9297,153,243.9297" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76" x="153" y="226.1875">setUpForm()</text><line style="stroke:#A80036;stroke-width:1.0;" x1="146" x2="188" y1="273.2402" y2="273.2402"/><line style="stroke:#A80036;stroke-width:1.0;" x1="188" x2="188" y1="273.2402" y2="286.2402"/><line style="stroke:#A80036;stroke-width:1.0;" x1="147" x2="188" y1="286.2402" y2="286.2402"/><polygon fill="#A80036" points="157,282.2402,147,286.2402,157,290.2402,153,286.2402" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="36" x="153" y="268.498">bind()</text><polygon fill="#A80036" points="305,311.5508,315,315.5508,305,319.5508,309,315.5508" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="146" x2="311" y1="315.5508" y2="315.5508"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="50" x="153" y="310.8086">findAll()</text><polygon fill="#A80036" points="676,340.8613,686,344.8613,676,348.8613,680,344.8613" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="327" x2="682" y1="344.8613" y2="344.8613"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="50" x="334" y="340.1191">findAll()</text><polygon fill="#A80036" points="857,370.1719,867,374.1719,857,378.1719,861,374.1719" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="698" x2="863" y1="374.1719" y2="374.1719"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="58" x="705" y="369.4297">SELECT文</text><polygon fill="#A80036" points="709,399.4824,699,403.4824,709,407.4824,705,403.4824" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="703" x2="873" y1="403.4824" y2="403.4824"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147" x="715" y="398.7402">List&lt;ProductCategory&gt;</text><polygon fill="#A80036" points="338,428.793,328,432.793,338,436.793,334,432.793" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="332" x2="692" y1="432.793" y2="432.793"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147" x="344" y="428.0508">List&lt;ProductCategory&gt;</text><polygon fill="#A80036" points="157,458.1035,147,462.1035,157,466.1035,153,462.1035" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="151" x2="321" y1="462.1035" y2="462.1035"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147" x="163" y="457.3613">List&lt;ProductCategory&gt;</text><polygon fill="#A80036" points="413,487.4141,423,491.4141,413,495.4141,417,491.4141" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="146" x2="419" y1="491.4141" y2="491.4141"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="50" x="153" y="486.6719">findAll()</text><polygon fill="#A80036" points="558,516.7246,568,520.7246,558,524.7246,562,520.7246" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="435" x2="564" y1="520.7246" y2="520.7246"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="50" x="442" y="515.9824">findAll()</text><polygon fill="#A80036" points="857,546.0352,867,550.0352,857,554.0352,861,550.0352" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="580" x2="863" y1="550.0352" y2="550.0352"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="58" x="587" y="545.293">SELECT文</text><polygon fill="#A80036" points="591,575.3457,581,579.3457,591,583.3457,587,579.3457" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="585" x2="873" y1="579.3457" y2="579.3457"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="597" y="574.6035">List&lt;Product&gt;</text><polygon fill="#A80036" points="446,604.6563,436,608.6563,446,612.6563,442,608.6563" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="440" x2="574" y1="608.6563" y2="608.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="452" y="603.9141">List&lt;Product&gt;</text><polygon fill="#A80036" points="157,633.9668,147,637.9668,157,641.9668,153,637.9668" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="151" x2="429" y1="637.9668" y2="637.9668"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="163" y="633.2246">List&lt;Product&gt;</text><line style="stroke:#A80036;stroke-width:1.0;" x1="146" x2="188" y1="682.5879" y2="682.5879"/><line style="stroke:#A80036;stroke-width:1.0;" x1="188" x2="188" y1="682.5879" y2="695.5879"/><line style="stroke:#A80036;stroke-width:1.0;" x1="147" x2="188" y1="695.5879" y2="695.5879"/><polygon fill="#A80036" points="157,691.5879,147,695.5879,157,699.5879,153,695.5879" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="64" x="153" y="662.5352">Mpdel追加</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117" x="153" y="677.8457">（カテゴリリスト）</text><line style="stroke:#A80036;stroke-width:1.0;" x1="146" x2="188" y1="740.209" y2="740.209"/><line style="stroke:#A80036;stroke-width:1.0;" x1="188" x2="188" y1="740.209" y2="753.209"/><line style="stroke:#A80036;stroke-width:1.0;" x1="147" x2="188" y1="753.209" y2="753.209"/><polygon fill="#A80036" points="157,749.209,147,753.209,157,757.209,153,753.209" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="64" x="153" y="720.1563">Model追加</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="153" y="735.4668">（商品リスト）</text><polygon fill="#A80036" points="45,778.5195,35,782.5195,45,786.5195,41,782.5195" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="39" x2="140" y1="782.5195" y2="782.5195"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="51" y="777.7773">検索初期画面</text><line style="stroke:#A80036;stroke-width:1.0;" x1="34" x2="76" y1="811.8301" y2="811.8301"/><line style="stroke:#A80036;stroke-width:1.0;" x1="76" x2="76" y1="811.8301" y2="824.8301"/><line style="stroke:#A80036;stroke-width:1.0;" x1="35" x2="76" y1="824.8301" y2="824.8301"/><polygon fill="#A80036" points="45,820.8301,35,824.8301,45,828.8301,41,824.8301" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="41" y="807.0879">カテゴリ選択</text><polygon fill="#A80036" points="124,850.1406,134,854.1406,124,858.1406,128,854.1406" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="34" x2="130" y1="854.1406" y2="854.1406"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="49" x="41" y="849.3984">search()</text><polygon fill="#A80036" points="413,879.4512,423,883.4512,413,887.4512,417,883.4512" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="146" x2="419" y1="883.4512" y2="883.4512"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116" x="153" y="878.709">findbyCategoryId()</text><polygon fill="#A80036" points="558,908.7617,568,912.7617,558,916.7617,562,912.7617" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="435" x2="564" y1="912.7617" y2="912.7617"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116" x="442" y="908.0195">findbyCategoryId()</text><polygon fill="#A80036" points="857,938.0723,867,942.0723,857,946.0723,861,942.0723" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="580" x2="863" y1="942.0723" y2="942.0723"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="58" x="587" y="937.3301">SELECT文</text><polygon fill="#A80036" points="591,967.3828,581,971.3828,591,975.3828,587,971.3828" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="585" x2="873" y1="971.3828" y2="971.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="597" y="966.6406">List&lt;Product&gt;</text><polygon fill="#A80036" points="446,996.6934,436,1000.6934,446,1004.6934,442,1000.6934" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="440" x2="574" y1="1000.6934" y2="1000.6934"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="452" y="995.9512">List&lt;Product&gt;</text><polygon fill="#A80036" points="157,1026.0039,147,1030.0039,157,1034.0039,153,1030.0039" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="151" x2="429" y1="1030.0039" y2="1030.0039"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="163" y="1025.2617">List&lt;Product&gt;</text><line style="stroke:#A80036;stroke-width:1.0;" x1="146" x2="188" y1="1074.625" y2="1074.625"/><line style="stroke:#A80036;stroke-width:1.0;" x1="188" x2="188" y1="1074.625" y2="1087.625"/><line style="stroke:#A80036;stroke-width:1.0;" x1="147" x2="188" y1="1087.625" y2="1087.625"/><polygon fill="#A80036" points="157,1083.625,147,1087.625,157,1091.625,153,1087.625" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="64" x="153" y="1054.5723">Model追加</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="153" y="1069.8828">（選択カテゴリ）</text><path d="M269,1046.5039 L269,1086.5039 L511,1086.5039 L511,1056.5039 L501,1046.5039 L269,1046.5039 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><path d="M501,1046.5039 L501,1056.5039 L511,1056.5039 L501,1046.5039 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117" x="275" y="1064.0723">選択したカテゴリが</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="221" x="275" y="1079.3828">セレクトボックスで選択されるように</text><polygon fill="#A80036" points="40,1112.9355,30,1116.9355,40,1120.9355,36,1116.9355" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="34" x2="140" y1="1116.9355" y2="1116.9355"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="46" y="1112.1934">検索結果画面</text><!--MD5=[a7e7cdf678bee9e5f055c6a1a9397464]
@startuml
skin rose
skinparam shadowing false
hide empty methods
hide empty fields
skin rose
title UC003: 商品検索機能 シーケンス図
skinparam shadowing false

actor ユーザ as user
activate user
participant "ProductList\nController" as controller
participant "ProductCategory\nService" as svc1
participant "Product\nService" as svc2
participant "Product\nRepository" as repo1
participant "ProductCategory\nRepository" as repo2
database "DB" as db

' 検索初期画面
user -> controller ++ : list()
controller -> controller : セッション破棄
note right: 他コントローラで破棄していない\nセッションを一斉破棄
controller -> controller : setUpForm()
controller -> controller : bind()
controller -> svc1 ++ : findAll()
svc1 -> repo2 ++ : findAll()
repo2 -> db ++ : SELECT文
db - -> repo2 - - : List<ProductCategory>
repo2 - -> svc1 - - : List<ProductCategory>
svc1 - -> controller - - : List<ProductCategory>
controller -> svc2 ++ : findAll()
svc2 -> repo1 ++ : findAll()
repo1 -> db ++ : SELECT文
db - -> repo1 - - : List<Product>
repo1 - -> svc2 - - : List<Product>
svc2 - -> controller - - : List<Product>
controller -> controller : Mpdel追加\n（カテゴリリスト）
controller -> controller : Model追加\n（商品リスト）
controller -> user - - : 検索初期画面

' 検索結果画面
user -> user : カテゴリ選択
user -> controller ++ : search()
controller -> svc2 ++ : findbyCategoryId()
svc2 -> repo1 ++ : findbyCategoryId()
repo1 -> db ++ : SELECT文
db - -> repo1 - - : List<Product>
repo1 - -> svc2 - - : List<Product>
svc2 - -> controller - - : List<Product>
controller -> controller : Model追加\n（選択カテゴリ）
note right: 選択したカテゴリが\nセレクトボックスで選択されるように
controller -> user - - : 検索結果画面

deactivate user
@enduml

@startuml
skin rose
skinparam shadowing false
hide empty methods
hide empty fields
skin rose
title UC003: 商品検索機能 シーケンス図
skinparam shadowing false

actor ユーザ as user
activate user
participant "ProductList\nController" as controller
participant "ProductCategory\nService" as svc1
participant "Product\nService" as svc2
participant "Product\nRepository" as repo1
participant "ProductCategory\nRepository" as repo2
database "DB" as db

user -> controller ++ : list()
controller -> controller : セッション破棄
note right: 他コントローラで破棄していない\nセッションを一斉破棄
controller -> controller : setUpForm()
controller -> controller : bind()
controller -> svc1 ++ : findAll()
svc1 -> repo2 ++ : findAll()
repo2 -> db ++ : SELECT文
db - -> repo2 - - : List<ProductCategory>
repo2 - -> svc1 - - : List<ProductCategory>
svc1 - -> controller - - : List<ProductCategory>
controller -> svc2 ++ : findAll()
svc2 -> repo1 ++ : findAll()
repo1 -> db ++ : SELECT文
db - -> repo1 - - : List<Product>
repo1 - -> svc2 - - : List<Product>
svc2 - -> controller - - : List<Product>
controller -> controller : Mpdel追加\n（カテゴリリスト）
controller -> controller : Model追加\n（商品リスト）
controller -> user - - : 検索初期画面

user -> user : カテゴリ選択
user -> controller ++ : search()
controller -> svc2 ++ : findbyCategoryId()
svc2 -> repo1 ++ : findbyCategoryId()
repo1 -> db ++ : SELECT文
db - -> repo1 - - : List<Product>
repo1 - -> svc2 - - : List<Product>
svc2 - -> controller - - : List<Product>
controller -> controller : Model追加\n（選択カテゴリ）
note right: 選択したカテゴリが\nセレクトボックスで選択されるように
controller -> user - - : 検索結果画面

deactivate user
@enduml

PlantUML version 1.2022.0(Wed Jan 12 01:16:42 JST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: ja
Country: JP
--></g></svg>