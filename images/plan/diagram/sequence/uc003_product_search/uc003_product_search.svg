<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1193px" preserveAspectRatio="none" style="width:909px;height:1193px;background:#FFFFFF;" version="1.1" viewBox="0 0 909 1193" width="909px" zoomAndPan="magnify"><defs/><g><rect height="26.4883" style="stroke:#00000000;stroke-width:1.0;fill:none;" width="238" x="336.5" y="10"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="228" x="341.5" y="28.5352">UC003: 商品検索機能 シーケンス図</text><rect fill="#FFFFFF" height="961.248" style="stroke:#A80036;stroke-width:1.0;" width="10" x="24" y="131.9766"/><rect fill="#FFFFFF" height="574.2109" style="stroke:#A80036;stroke-width:1.0;" width="10" x="136" y="153.2871"/><rect fill="#FFFFFF" height="294.1055" style="stroke:#A80036;stroke-width:1.0;" width="10" x="136" y="799.1191"/><rect fill="#FFFFFF" height="146.5527" style="stroke:#A80036;stroke-width:1.0;" width="10" x="317" y="222.2188"/><rect fill="#FFFFFF" height="146.5527" style="stroke:#A80036;stroke-width:1.0;" width="10" x="425" y="429.3926"/><rect fill="#FFFFFF" height="146.5527" style="stroke:#A80036;stroke-width:1.0;" width="10" x="425" y="852.7402"/><rect fill="#FFFFFF" height="87.9316" style="stroke:#A80036;stroke-width:1.0;" width="10" x="570" y="458.7031"/><rect fill="#FFFFFF" height="87.9316" style="stroke:#A80036;stroke-width:1.0;" width="10" x="570" y="882.0508"/><rect fill="#FFFFFF" height="87.9316" style="stroke:#A80036;stroke-width:1.0;" width="10" x="688" y="251.5293"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#A80036;stroke-width:1.0;" width="10" x="869" y="280.8398"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#A80036;stroke-width:1.0;" width="10" x="869" y="488.0137"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#A80036;stroke-width:1.0;" width="10" x="869" y="911.3613"/><rect height="208.4844" style="stroke:#000000;stroke-width:2.0;fill:none;" width="816" x="86" y="168.2871"/><rect height="193.1738" style="stroke:#000000;stroke-width:2.0;fill:none;" width="816" x="86" y="390.7715"/><rect height="193.1738" style="stroke:#000000;stroke-width:2.0;fill:none;" width="816" x="86" y="814.1191"/><line style="stroke:#A80036;stroke-width:1.0;fill:none;stroke-dasharray:5.0,5.0;" x1="29" x2="29" y1="121.9766" y2="1111.2246"/><line style="stroke:#A80036;stroke-width:1.0;fill:none;stroke-dasharray:5.0,5.0;" x1="141" x2="141" y1="121.9766" y2="1111.2246"/><line style="stroke:#A80036;stroke-width:1.0;fill:none;stroke-dasharray:5.0,5.0;" x1="321.5" x2="321.5" y1="121.9766" y2="1111.2246"/><line style="stroke:#A80036;stroke-width:1.0;fill:none;stroke-dasharray:5.0,5.0;" x1="429.5" x2="429.5" y1="121.9766" y2="1111.2246"/><line style="stroke:#A80036;stroke-width:1.0;fill:none;stroke-dasharray:5.0,5.0;" x1="574.5" x2="574.5" y1="121.9766" y2="1111.2246"/><line style="stroke:#A80036;stroke-width:1.0;fill:none;stroke-dasharray:5.0,5.0;" x1="692.5" x2="692.5" y1="121.9766" y2="1111.2246"/><line style="stroke:#A80036;stroke-width:1.0;fill:none;stroke-dasharray:5.0,5.0;" x1="874" x2="874" y1="121.9766" y2="1111.2246"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42" x="5" y="119.0234">ユーザ</text><ellipse cx="29" cy="52.4883" fill="#FEFECE" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M29,60.4883 L29,87.4883 M16,68.4883 L42,68.4883 M29,87.4883 L16,102.4883 M29,87.4883 L42,102.4883 " fill="none" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42" x="5" y="1123.7598">ユーザ</text><ellipse cx="29" cy="1136.7129" fill="#FEFECE" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M29,1144.7129 L29,1171.7129 M16,1152.7129 L42,1152.7129 M29,1171.7129 L16,1186.7129 M29,1171.7129 L42,1186.7129 " fill="none" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" height="46.9766" style="stroke:#A80036;stroke-width:1.5;" width="90" x="96" y="74"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76" x="103" y="94.5352">ProductList</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="106" y="111.0234">Controller</text><rect fill="#FEFECE" height="46.9766" style="stroke:#A80036;stroke-width:1.5;" width="90" x="96" y="1110.2246"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76" x="103" y="1130.7598">ProductList</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="106" y="1147.248">Controller</text><rect fill="#FEFECE" height="46.9766" style="stroke:#A80036;stroke-width:1.5;" width="129" x="257.5" y="74"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="115" x="264.5" y="94.5352">ProductCategory</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="48" x="298" y="111.0234">Service</text><rect fill="#FEFECE" height="46.9766" style="stroke:#A80036;stroke-width:1.5;" width="129" x="257.5" y="1110.2246"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="115" x="264.5" y="1130.7598">ProductCategory</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="48" x="298" y="1147.248">Service</text><rect fill="#FEFECE" height="46.9766" style="stroke:#A80036;stroke-width:1.5;" width="67" x="396.5" y="74"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="53" x="403.5" y="94.5352">Product</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="48" x="406" y="111.0234">Service</text><rect fill="#FEFECE" height="46.9766" style="stroke:#A80036;stroke-width:1.5;" width="67" x="396.5" y="1110.2246"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="53" x="403.5" y="1130.7598">Product</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="48" x="406" y="1147.248">Service</text><rect fill="#FEFECE" height="46.9766" style="stroke:#A80036;stroke-width:1.5;" width="87" x="531.5" y="74"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="53" x="548.5" y="94.5352">Product</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73" x="538.5" y="111.0234">Repository</text><rect fill="#FEFECE" height="46.9766" style="stroke:#A80036;stroke-width:1.5;" width="87" x="531.5" y="1110.2246"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="53" x="548.5" y="1130.7598">Product</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73" x="538.5" y="1147.248">Repository</text><rect fill="#FEFECE" height="46.9766" style="stroke:#A80036;stroke-width:1.5;" width="129" x="628.5" y="74"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="115" x="635.5" y="94.5352">ProductCategory</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73" x="656.5" y="111.0234">Repository</text><rect fill="#FEFECE" height="46.9766" style="stroke:#A80036;stroke-width:1.5;" width="129" x="628.5" y="1110.2246"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="115" x="635.5" y="1130.7598">ProductCategory</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73" x="656.5" y="1147.248">Repository</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="18" x="862" y="119.0234">DB</text><path d="M856,69.4883 C856,59.4883 874,59.4883 874,59.4883 C874,59.4883 892,59.4883 892,69.4883 L892,95.4883 C892,105.4883 874,105.4883 874,105.4883 C874,105.4883 856,105.4883 856,95.4883 L856,69.4883 " fill="#FEFECE" style="stroke:#A80036;stroke-width:1.5;"/><path d="M856,69.4883 C856,79.4883 874,79.4883 874,79.4883 C874,79.4883 892,79.4883 892,69.4883 " fill="none" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="18" x="862" y="1123.7598">DB</text><path d="M856,1136.7129 C856,1126.7129 874,1126.7129 874,1126.7129 C874,1126.7129 892,1126.7129 892,1136.7129 L892,1162.7129 C892,1172.7129 874,1172.7129 874,1172.7129 C874,1172.7129 856,1172.7129 856,1162.7129 L856,1136.7129 " fill="#FEFECE" style="stroke:#A80036;stroke-width:1.5;"/><path d="M856,1136.7129 C856,1146.7129 874,1146.7129 874,1146.7129 C874,1146.7129 892,1146.7129 892,1136.7129 " fill="none" style="stroke:#A80036;stroke-width:1.5;"/><rect fill="#FFFFFF" height="961.248" style="stroke:#A80036;stroke-width:1.0;" width="10" x="24" y="131.9766"/><rect fill="#FFFFFF" height="574.2109" style="stroke:#A80036;stroke-width:1.0;" width="10" x="136" y="153.2871"/><rect fill="#FFFFFF" height="294.1055" style="stroke:#A80036;stroke-width:1.0;" width="10" x="136" y="799.1191"/><rect fill="#FFFFFF" height="146.5527" style="stroke:#A80036;stroke-width:1.0;" width="10" x="317" y="222.2188"/><rect fill="#FFFFFF" height="146.5527" style="stroke:#A80036;stroke-width:1.0;" width="10" x="425" y="429.3926"/><rect fill="#FFFFFF" height="146.5527" style="stroke:#A80036;stroke-width:1.0;" width="10" x="425" y="852.7402"/><rect fill="#FFFFFF" height="87.9316" style="stroke:#A80036;stroke-width:1.0;" width="10" x="570" y="458.7031"/><rect fill="#FFFFFF" height="87.9316" style="stroke:#A80036;stroke-width:1.0;" width="10" x="570" y="882.0508"/><rect fill="#FFFFFF" height="87.9316" style="stroke:#A80036;stroke-width:1.0;" width="10" x="688" y="251.5293"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#A80036;stroke-width:1.0;" width="10" x="869" y="280.8398"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#A80036;stroke-width:1.0;" width="10" x="869" y="488.0137"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#A80036;stroke-width:1.0;" width="10" x="869" y="911.3613"/><polygon fill="#A80036" points="124,149.2871,134,153.2871,124,157.2871,128,153.2871" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="34" x2="130" y1="153.2871" y2="153.2871"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="28" x="41" y="148.5449">list()</text><path d="M86,168.2871 L313,168.2871 L313,190.9082 L303,200.9082 L86,200.9082 L86,168.2871 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="208.4844" style="stroke:#000000;stroke-width:2.0;" width="816" x="86" y="168.2871"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="143" x="101" y="181.8555">商品カテゴリリスト取得</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="182" x="101" y="197.166">（検索プルダウン表示のため）</text><polygon fill="#A80036" points="305,218.2188,315,222.2188,305,226.2188,309,222.2188" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="146" x2="311" y1="222.2188" y2="222.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="50" x="153" y="217.4766">findAll()</text><polygon fill="#A80036" points="676,247.5293,686,251.5293,676,255.5293,680,251.5293" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="327" x2="682" y1="251.5293" y2="251.5293"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="50" x="334" y="246.7871">findAll()</text><polygon fill="#A80036" points="857,276.8398,867,280.8398,857,284.8398,861,280.8398" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="698" x2="863" y1="280.8398" y2="280.8398"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="58" x="705" y="276.0977">SELECT文</text><polygon fill="#A80036" points="709,306.1504,699,310.1504,709,314.1504,705,310.1504" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="703" x2="873" y1="310.1504" y2="310.1504"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147" x="715" y="305.4082">List&lt;ProductCategory&gt;</text><polygon fill="#A80036" points="338,335.4609,328,339.4609,338,343.4609,334,339.4609" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="332" x2="692" y1="339.4609" y2="339.4609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147" x="344" y="334.7188">List&lt;ProductCategory&gt;</text><polygon fill="#A80036" points="157,364.7715,147,368.7715,157,372.7715,153,368.7715" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="151" x2="321" y1="368.7715" y2="368.7715"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147" x="163" y="364.0293">List&lt;ProductCategory&gt;</text><path d="M86,390.7715 L235,390.7715 L235,398.082 L225,408.082 L86,408.082 L86,390.7715 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="193.1738" style="stroke:#000000;stroke-width:2.0;" width="816" x="86" y="390.7715"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="104" x="101" y="404.3398">全商品リスト取得</text><polygon fill="#A80036" points="413,425.3926,423,429.3926,413,433.3926,417,429.3926" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="146" x2="419" y1="429.3926" y2="429.3926"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="50" x="153" y="424.6504">findAll()</text><polygon fill="#A80036" points="558,454.7031,568,458.7031,558,462.7031,562,458.7031" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="435" x2="564" y1="458.7031" y2="458.7031"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="50" x="442" y="453.9609">findAll()</text><polygon fill="#A80036" points="857,484.0137,867,488.0137,857,492.0137,861,488.0137" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="580" x2="863" y1="488.0137" y2="488.0137"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="58" x="587" y="483.2715">SELECT文</text><polygon fill="#A80036" points="591,513.3242,581,517.3242,591,521.3242,587,517.3242" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="585" x2="873" y1="517.3242" y2="517.3242"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="597" y="512.582">List&lt;Product&gt;</text><polygon fill="#A80036" points="446,542.6348,436,546.6348,446,550.6348,442,546.6348" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="440" x2="574" y1="546.6348" y2="546.6348"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="452" y="541.8926">List&lt;Product&gt;</text><polygon fill="#A80036" points="157,571.9453,147,575.9453,157,579.9453,153,575.9453" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="151" x2="429" y1="575.9453" y2="575.9453"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="163" y="571.2031">List&lt;Product&gt;</text><line style="stroke:#A80036;stroke-width:1.0;" x1="146" x2="188" y1="627.5664" y2="627.5664"/><line style="stroke:#A80036;stroke-width:1.0;" x1="188" x2="188" y1="627.5664" y2="640.5664"/><line style="stroke:#A80036;stroke-width:1.0;" x1="147" x2="188" y1="640.5664" y2="640.5664"/><polygon fill="#A80036" points="157,636.5664,147,640.5664,157,644.5664,153,640.5664" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="64" x="153" y="607.5137">Mpdel追加</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117" x="153" y="622.8242">（カテゴリリスト）</text><line style="stroke:#A80036;stroke-width:1.0;" x1="146" x2="188" y1="685.1875" y2="685.1875"/><line style="stroke:#A80036;stroke-width:1.0;" x1="188" x2="188" y1="685.1875" y2="698.1875"/><line style="stroke:#A80036;stroke-width:1.0;" x1="147" x2="188" y1="698.1875" y2="698.1875"/><polygon fill="#A80036" points="157,694.1875,147,698.1875,157,702.1875,153,698.1875" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="64" x="153" y="665.1348">Model追加</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="153" y="680.4453">（商品リスト）</text><polygon fill="#A80036" points="45,723.498,35,727.498,45,731.498,41,727.498" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="39" x2="140" y1="727.498" y2="727.498"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="51" y="722.7559">検索初期画面</text><line style="stroke:#A80036;stroke-width:1.0;" x1="34" x2="76" y1="756.8086" y2="756.8086"/><line style="stroke:#A80036;stroke-width:1.0;" x1="76" x2="76" y1="756.8086" y2="769.8086"/><line style="stroke:#A80036;stroke-width:1.0;" x1="35" x2="76" y1="769.8086" y2="769.8086"/><polygon fill="#A80036" points="45,765.8086,35,769.8086,45,773.8086,41,769.8086" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="41" y="752.0664">カテゴリ選択</text><polygon fill="#A80036" points="124,795.1191,134,799.1191,124,803.1191,128,799.1191" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="34" x2="130" y1="799.1191" y2="799.1191"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="49" x="41" y="794.377">search()</text><path d="M86,814.1191 L339,814.1191 L339,821.4297 L329,831.4297 L86,831.4297 L86,814.1191 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="193.1738" style="stroke:#000000;stroke-width:2.0;" width="816" x="86" y="814.1191"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="208" x="101" y="827.6875">指定したカテゴリの商品リスト取得</text><polygon fill="#A80036" points="413,848.7402,423,852.7402,413,856.7402,417,852.7402" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="146" x2="419" y1="852.7402" y2="852.7402"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116" x="153" y="847.998">findbyCategoryId()</text><polygon fill="#A80036" points="558,878.0508,568,882.0508,558,886.0508,562,882.0508" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="435" x2="564" y1="882.0508" y2="882.0508"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116" x="442" y="877.3086">findbyCategoryId()</text><polygon fill="#A80036" points="857,907.3613,867,911.3613,857,915.3613,861,911.3613" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="580" x2="863" y1="911.3613" y2="911.3613"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="58" x="587" y="906.6191">SELECT文</text><polygon fill="#A80036" points="591,936.6719,581,940.6719,591,944.6719,587,940.6719" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="585" x2="873" y1="940.6719" y2="940.6719"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="597" y="935.9297">List&lt;Product&gt;</text><polygon fill="#A80036" points="446,965.9824,436,969.9824,446,973.9824,442,969.9824" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="440" x2="574" y1="969.9824" y2="969.9824"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="452" y="965.2402">List&lt;Product&gt;</text><polygon fill="#A80036" points="157,995.293,147,999.293,157,1003.293,153,999.293" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="151" x2="429" y1="999.293" y2="999.293"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="163" y="994.5508">List&lt;Product&gt;</text><line style="stroke:#A80036;stroke-width:1.0;" x1="146" x2="188" y1="1050.9141" y2="1050.9141"/><line style="stroke:#A80036;stroke-width:1.0;" x1="188" x2="188" y1="1050.9141" y2="1063.9141"/><line style="stroke:#A80036;stroke-width:1.0;" x1="147" x2="188" y1="1063.9141" y2="1063.9141"/><polygon fill="#A80036" points="157,1059.9141,147,1063.9141,157,1067.9141,153,1063.9141" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="64" x="153" y="1030.8613">Model追加</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="153" y="1046.1719">（選択カテゴリ）</text><path d="M269,1022.793 L269,1062.793 L511,1062.793 L511,1032.793 L501,1022.793 L269,1022.793 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><path d="M501,1022.793 L501,1032.793 L511,1032.793 L501,1022.793 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117" x="275" y="1040.3613">選択したカテゴリが</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="221" x="275" y="1055.6719">セレクトボックスで選択されるように</text><polygon fill="#A80036" points="40,1089.2246,30,1093.2246,40,1097.2246,36,1093.2246" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="34" x2="140" y1="1093.2246" y2="1093.2246"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="46" y="1088.4824">検索結果画面</text><!--MD5=[25b84dd38bfa7b354e1bb8ae561ceef0]
@startuml
skin rose
skinparam shadowing false
hide empty methods
hide empty fields
skin rose
title UC003: 商品検索機能 シーケンス図
skinparam shadowing false

actor ユーザ as user
activate user
participant "ProductList\nController" as controller
participant "ProductCategory\nService" as svc1
participant "Product\nService" as svc2
participant "Product\nRepository" as repo1
participant "ProductCategory\nRepository" as repo2
database "DB" as db

' 検索初期画面
user -> controller ++ : list()
group 商品カテゴリリスト取得\n（検索プルダウン表示のため）
    controller -> svc1 ++ : findAll()
    svc1 -> repo2 ++ : findAll()
    repo2 -> db ++ : SELECT文
    db - -> repo2 - - : List<ProductCategory>
    repo2 - -> svc1 - - : List<ProductCategory>
    svc1 - -> controller - - : List<ProductCategory>
end 
group 全商品リスト取得
    controller -> svc2 ++ : findAll()
    svc2 -> repo1 ++ : findAll()
    repo1 -> db ++ : SELECT文
    db - -> repo1 - - : List<Product>
    repo1 - -> svc2 - - : List<Product>
    svc2 - -> controller - - : List<Product>
end
controller -> controller : Mpdel追加\n（カテゴリリスト）
controller -> controller : Model追加\n（商品リスト）
controller -> user - - : 検索初期画面

' 検索結果画面
user -> user : カテゴリ選択
user -> controller ++ : search()
group 指定したカテゴリの商品リスト取得
controller -> svc2 ++ : findbyCategoryId()
svc2 -> repo1 ++ : findbyCategoryId()
repo1 -> db ++ : SELECT文
db - -> repo1 - - : List<Product>
repo1 - -> svc2 - - : List<Product>
svc2 - -> controller - - : List<Product>
end
controller -> controller : Model追加\n（選択カテゴリ）
note right: 選択したカテゴリが\nセレクトボックスで選択されるように
controller -> user - - : 検索結果画面

deactivate user
@enduml

@startuml
skin rose
skinparam shadowing false
hide empty methods
hide empty fields
skin rose
title UC003: 商品検索機能 シーケンス図
skinparam shadowing false

actor ユーザ as user
activate user
participant "ProductList\nController" as controller
participant "ProductCategory\nService" as svc1
participant "Product\nService" as svc2
participant "Product\nRepository" as repo1
participant "ProductCategory\nRepository" as repo2
database "DB" as db

user -> controller ++ : list()
group 商品カテゴリリスト取得\n（検索プルダウン表示のため）
    controller -> svc1 ++ : findAll()
    svc1 -> repo2 ++ : findAll()
    repo2 -> db ++ : SELECT文
    db - -> repo2 - - : List<ProductCategory>
    repo2 - -> svc1 - - : List<ProductCategory>
    svc1 - -> controller - - : List<ProductCategory>
end 
group 全商品リスト取得
    controller -> svc2 ++ : findAll()
    svc2 -> repo1 ++ : findAll()
    repo1 -> db ++ : SELECT文
    db - -> repo1 - - : List<Product>
    repo1 - -> svc2 - - : List<Product>
    svc2 - -> controller - - : List<Product>
end
controller -> controller : Mpdel追加\n（カテゴリリスト）
controller -> controller : Model追加\n（商品リスト）
controller -> user - - : 検索初期画面

user -> user : カテゴリ選択
user -> controller ++ : search()
group 指定したカテゴリの商品リスト取得
controller -> svc2 ++ : findbyCategoryId()
svc2 -> repo1 ++ : findbyCategoryId()
repo1 -> db ++ : SELECT文
db - -> repo1 - - : List<Product>
repo1 - -> svc2 - - : List<Product>
svc2 - -> controller - - : List<Product>
end
controller -> controller : Model追加\n（選択カテゴリ）
note right: 選択したカテゴリが\nセレクトボックスで選択されるように
controller -> user - - : 検索結果画面

deactivate user
@enduml

PlantUML version 1.2022.5(Sat Apr 30 19:55:52 JST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: ja
Country: JP
--></g></svg>