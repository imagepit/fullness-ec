<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1915px" preserveAspectRatio="none" style="width:977px;height:1915px;background:#FFFFFF;" version="1.1" viewBox="0 0 977 1915" width="977px" zoomAndPan="magnify"><defs/><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="291" x="342.25" y="29.4023">UC012: 商品修正機能 シーケンス図</text><rect fill="#FFFFFF" height="1694.7246" style="stroke:#A80036;stroke-width:1.0;" width="10" x="24" y="129.6875"/><rect fill="#FFFFFF" height="723.4531" style="stroke:#A80036;stroke-width:1.0;" width="10" x="152" y="150.998"/><rect fill="#FFFFFF" height="290.75" style="stroke:#A80036;stroke-width:1.0;" width="10" x="152" y="946.0723"/><rect fill="#FFFFFF" height="506.9688" style="stroke:#A80036;stroke-width:1.0;" width="10" x="152" y="1308.4434"/><rect fill="#FFFFFF" height="149.5527" style="stroke:#A80036;stroke-width:1.0;" width="10" x="333" y="267.9297"/><rect fill="#FFFFFF" height="87.9316" style="stroke:#A80036;stroke-width:1.0;" width="10" x="514" y="300.2402"/><rect fill="#FFFFFF" height="164.8633" style="stroke:#A80036;stroke-width:1.0;" width="10" x="622" y="449.793"/><rect fill="#FFFFFF" height="263.7949" style="stroke:#A80036;stroke-width:1.0;" width="10" x="622" y="1437.6855"/><rect fill="#FFFFFF" height="87.9316" style="stroke:#A80036;stroke-width:1.0;" width="10" x="750" y="497.4141"/><rect fill="#FFFFFF" height="87.9316" style="stroke:#A80036;stroke-width:1.0;" width="10" x="750" y="1466.9961"/><rect fill="#FFFFFF" height="87.9316" style="stroke:#A80036;stroke-width:1.0;" width="10" x="855.5" y="1584.2383"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#A80036;stroke-width:1.0;" width="10" x="947.5" y="329.5508"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#A80036;stroke-width:1.0;" width="10" x="947.5" y="526.7246"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#A80036;stroke-width:1.0;" width="10" x="947.5" y="1496.3066"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#A80036;stroke-width:1.0;" width="10" x="947.5" y="1613.5488"/><rect fill="#FFFFFF" height="205.1289" style="stroke:#000000;stroke-width:2.0;" width="241" x="89" y="1003.3828"/><rect fill="#FFFFFF" height="72.5762" style="stroke:none;stroke-width:1.0;" width="241" x="89" y="1135.9355"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="29" x2="29" y1="119.6875" y2="1833.4121"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="157" x2="157" y1="119.6875" y2="1833.4121"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="337.5" x2="337.5" y1="119.6875" y2="1833.4121"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="518.5" x2="518.5" y1="119.6875" y2="1833.4121"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="626.5" x2="626.5" y1="119.6875" y2="1833.4121"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="754.5" x2="754.5" y1="119.6875" y2="1833.4121"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="860.5" x2="860.5" y1="119.6875" y2="1833.4121"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="952.5" x2="952.5" y1="119.6875" y2="1833.4121"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42" x="5" y="116.7344">ユーザ</text><ellipse cx="29" cy="50.1992" fill="#FEFECE" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M29,58.1992 L29,85.1992 M16,66.1992 L42,66.1992 M29,85.1992 L16,100.1992 M29,85.1992 L42,100.1992 " fill="none" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="42" x="5" y="1845.9473">ユーザ</text><ellipse cx="29" cy="1858.9004" fill="#FEFECE" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M29,1866.9004 L29,1893.9004 M16,1874.9004 L42,1874.9004 M29,1893.9004 L16,1908.9004 M29,1893.9004 L42,1908.9004 " fill="none" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" height="46.9766" style="stroke:#A80036;stroke-width:1.5;" width="116" x="99" y="71.7109"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102" x="106" y="92.2461">ProductUpdate</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="122" y="108.7344">Controller</text><rect fill="#FEFECE" height="46.9766" style="stroke:#A80036;stroke-width:1.5;" width="116" x="99" y="1832.4121"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="102" x="106" y="1852.9473">ProductUpdate</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70" x="122" y="1869.4355">Controller</text><rect fill="#FEFECE" height="46.9766" style="stroke:#A80036;stroke-width:1.5;" width="129" x="273.5" y="71.7109"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="115" x="280.5" y="92.2461">ProductCategory</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="48" x="314" y="108.7344">Service</text><rect fill="#FEFECE" height="46.9766" style="stroke:#A80036;stroke-width:1.5;" width="129" x="273.5" y="1832.4121"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="115" x="280.5" y="1852.9473">ProductCategory</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="48" x="314" y="1869.4355">Service</text><rect fill="#FEFECE" height="46.9766" style="stroke:#A80036;stroke-width:1.5;" width="129" x="454.5" y="71.7109"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="115" x="461.5" y="92.2461">ProductCategory</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73" x="482.5" y="108.7344">Repository</text><rect fill="#FEFECE" height="46.9766" style="stroke:#A80036;stroke-width:1.5;" width="129" x="454.5" y="1832.4121"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="115" x="461.5" y="1852.9473">ProductCategory</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73" x="482.5" y="1869.4355">Repository</text><rect fill="#FEFECE" height="46.9766" style="stroke:#A80036;stroke-width:1.5;" width="67" x="593.5" y="71.7109"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="53" x="600.5" y="92.2461">Product</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="48" x="603" y="108.7344">Service</text><rect fill="#FEFECE" height="46.9766" style="stroke:#A80036;stroke-width:1.5;" width="67" x="593.5" y="1832.4121"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="53" x="600.5" y="1852.9473">Product</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="48" x="603" y="1869.4355">Service</text><rect fill="#FEFECE" height="46.9766" style="stroke:#A80036;stroke-width:1.5;" width="87" x="711.5" y="71.7109"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="53" x="728.5" y="92.2461">Product</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73" x="718.5" y="108.7344">Repository</text><rect fill="#FEFECE" height="46.9766" style="stroke:#A80036;stroke-width:1.5;" width="87" x="711.5" y="1832.4121"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="53" x="728.5" y="1852.9473">Product</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73" x="718.5" y="1869.4355">Repository</text><rect fill="#FEFECE" height="46.9766" style="stroke:#A80036;stroke-width:1.5;" width="104" x="808.5" y="71.7109"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90" x="815.5" y="92.2461">ProductStock</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73" x="824" y="108.7344">Repository</text><rect fill="#FEFECE" height="46.9766" style="stroke:#A80036;stroke-width:1.5;" width="104" x="808.5" y="1832.4121"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90" x="815.5" y="1852.9473">ProductStock</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73" x="824" y="1869.4355">Repository</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="18" x="940.5" y="116.7344">DB</text><path d="M934.5,67.1992 C934.5,57.1992 952.5,57.1992 952.5,57.1992 C952.5,57.1992 970.5,57.1992 970.5,67.1992 L970.5,93.1992 C970.5,103.1992 952.5,103.1992 952.5,103.1992 C952.5,103.1992 934.5,103.1992 934.5,93.1992 L934.5,67.1992 " fill="#FEFECE" style="stroke:#000000;stroke-width:1.5;"/><path d="M934.5,67.1992 C934.5,77.1992 952.5,77.1992 952.5,77.1992 C952.5,77.1992 970.5,77.1992 970.5,67.1992 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="18" x="940.5" y="1845.9473">DB</text><path d="M934.5,1858.9004 C934.5,1848.9004 952.5,1848.9004 952.5,1848.9004 C952.5,1848.9004 970.5,1848.9004 970.5,1858.9004 L970.5,1884.9004 C970.5,1894.9004 952.5,1894.9004 952.5,1894.9004 C952.5,1894.9004 934.5,1894.9004 934.5,1884.9004 L934.5,1858.9004 " fill="#FEFECE" style="stroke:#000000;stroke-width:1.5;"/><path d="M934.5,1858.9004 C934.5,1868.9004 952.5,1868.9004 952.5,1868.9004 C952.5,1868.9004 970.5,1868.9004 970.5,1858.9004 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><rect fill="#FFFFFF" height="1694.7246" style="stroke:#A80036;stroke-width:1.0;" width="10" x="24" y="129.6875"/><rect fill="#FFFFFF" height="723.4531" style="stroke:#A80036;stroke-width:1.0;" width="10" x="152" y="150.998"/><rect fill="#FFFFFF" height="290.75" style="stroke:#A80036;stroke-width:1.0;" width="10" x="152" y="946.0723"/><rect fill="#FFFFFF" height="506.9688" style="stroke:#A80036;stroke-width:1.0;" width="10" x="152" y="1308.4434"/><rect fill="#FFFFFF" height="149.5527" style="stroke:#A80036;stroke-width:1.0;" width="10" x="333" y="267.9297"/><rect fill="#FFFFFF" height="87.9316" style="stroke:#A80036;stroke-width:1.0;" width="10" x="514" y="300.2402"/><rect fill="#FFFFFF" height="164.8633" style="stroke:#A80036;stroke-width:1.0;" width="10" x="622" y="449.793"/><rect fill="#FFFFFF" height="263.7949" style="stroke:#A80036;stroke-width:1.0;" width="10" x="622" y="1437.6855"/><rect fill="#FFFFFF" height="87.9316" style="stroke:#A80036;stroke-width:1.0;" width="10" x="750" y="497.4141"/><rect fill="#FFFFFF" height="87.9316" style="stroke:#A80036;stroke-width:1.0;" width="10" x="750" y="1466.9961"/><rect fill="#FFFFFF" height="87.9316" style="stroke:#A80036;stroke-width:1.0;" width="10" x="855.5" y="1584.2383"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#A80036;stroke-width:1.0;" width="10" x="947.5" y="329.5508"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#A80036;stroke-width:1.0;" width="10" x="947.5" y="526.7246"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#A80036;stroke-width:1.0;" width="10" x="947.5" y="1496.3066"/><rect fill="#FFFFFF" height="29.3105" style="stroke:#A80036;stroke-width:1.0;" width="10" x="947.5" y="1613.5488"/><polygon fill="#A80036" points="140,146.998,150,150.998,140,154.998,144,150.998" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="34" x2="146" y1="150.998" y2="150.998"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99" x="41" y="146.2559">form(productId)</text><line style="stroke:#A80036;stroke-width:1.0;" x1="162" x2="204" y1="180.3086" y2="180.3086"/><line style="stroke:#A80036;stroke-width:1.0;" x1="204" x2="204" y1="180.3086" y2="193.3086"/><line style="stroke:#A80036;stroke-width:1.0;" x1="163" x2="204" y1="193.3086" y2="193.3086"/><polygon fill="#A80036" points="173,189.3086,163,193.3086,173,197.3086,169,193.3086" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76" x="169" y="175.5664">setUpForm()</text><line style="stroke:#A80036;stroke-width:1.0;" x1="162" x2="204" y1="222.6191" y2="222.6191"/><line style="stroke:#A80036;stroke-width:1.0;" x1="204" x2="204" y1="222.6191" y2="235.6191"/><line style="stroke:#A80036;stroke-width:1.0;" x1="163" x2="204" y1="235.6191" y2="235.6191"/><polygon fill="#A80036" points="173,231.6191,163,235.6191,173,239.6191,169,235.6191" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="36" x="169" y="217.877">bind()</text><polygon fill="#A80036" points="321,263.9297,331,267.9297,321,271.9297,325,267.9297" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="162" x2="327" y1="267.9297" y2="267.9297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="50" x="169" y="263.1875">findAll()</text><path d="M348,248.6191 L348,273.6191 L512,273.6191 L512,258.6191 L502,248.6191 L348,248.6191 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><path d="M502,248.6191 L502,258.6191 L512,258.6191 L502,248.6191 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="143" x="354" y="266.1875">商品カテゴリリスト取得</text><polygon fill="#A80036" points="502,296.2402,512,300.2402,502,304.2402,506,300.2402" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="343" x2="508" y1="300.2402" y2="300.2402"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="50" x="350" y="295.498">findAll()</text><polygon fill="#A80036" points="935.5,325.5508,945.5,329.5508,935.5,333.5508,939.5,329.5508" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="524" x2="941.5" y1="329.5508" y2="329.5508"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="58" x="531" y="324.8086">SELECT文</text><polygon fill="#A80036" points="535,354.8613,525,358.8613,535,362.8613,531,358.8613" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="529" x2="951.5" y1="358.8613" y2="358.8613"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147" x="541" y="354.1191">List&lt;ProductCategory&gt;</text><polygon fill="#A80036" points="354,384.1719,344,388.1719,354,392.1719,350,388.1719" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="348" x2="518" y1="388.1719" y2="388.1719"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147" x="360" y="383.4297">List&lt;ProductCategory&gt;</text><polygon fill="#A80036" points="173,413.4824,163,417.4824,173,421.4824,169,417.4824" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="167" x2="337" y1="417.4824" y2="417.4824"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147" x="179" y="412.7402">List&lt;ProductCategory&gt;</text><polygon fill="#A80036" points="610,445.793,620,449.793,610,453.793,614,449.793" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="162" x2="616" y1="449.793" y2="449.793"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120" x="169" y="445.0508">findById(productId)</text><path d="M637,430.4824 L637,455.4824 L736,455.4824 L736,440.4824 L726,430.4824 L637,430.4824 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><path d="M726,430.4824 L726,440.4824 L736,440.4824 L726,430.4824 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="643" y="448.0508">商品情報取得</text><polygon fill="#A80036" points="738,493.4141,748,497.4141,738,501.4141,742,497.4141" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="632" x2="744" y1="497.4141" y2="497.4141"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="51" x="639" y="477.3613">findById</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="69" x="639" y="492.6719">(productId)</text><polygon fill="#A80036" points="935.5,522.7246,945.5,526.7246,935.5,530.7246,939.5,526.7246" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="760" x2="941.5" y1="526.7246" y2="526.7246"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="58" x="767" y="521.9824">SELECT文</text><polygon fill="#A80036" points="771,552.0352,761,556.0352,771,560.0352,767,556.0352" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="765" x2="951.5" y1="556.0352" y2="556.0352"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="48" x="777" y="551.293">Product</text><polygon fill="#A80036" points="643,581.3457,633,585.3457,643,589.3457,639,585.3457" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="637" x2="754" y1="585.3457" y2="585.3457"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="48" x="649" y="580.6035">Product</text><polygon fill="#A80036" points="173,610.6563,163,614.6563,173,618.6563,169,614.6563" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="167" x2="626" y1="614.6563" y2="614.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="48" x="179" y="609.9141">Product</text><line style="stroke:#A80036;stroke-width:1.0;" x1="162" x2="204" y1="659.2773" y2="659.2773"/><line style="stroke:#A80036;stroke-width:1.0;" x1="204" x2="204" y1="659.2773" y2="672.2773"/><line style="stroke:#A80036;stroke-width:1.0;" x1="163" x2="204" y1="672.2773" y2="672.2773"/><polygon fill="#A80036" points="173,668.2773,163,672.2773,173,676.2773,169,672.2773" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="169" y="639.2246">エンティティから</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="169" y="654.5352">フォームに変換</text><line style="stroke:#A80036;stroke-width:1.0;" x1="162" x2="204" y1="716.8984" y2="716.8984"/><line style="stroke:#A80036;stroke-width:1.0;" x1="204" x2="204" y1="716.8984" y2="729.8984"/><line style="stroke:#A80036;stroke-width:1.0;" x1="163" x2="204" y1="729.8984" y2="729.8984"/><polygon fill="#A80036" points="173,725.8984,163,729.8984,173,733.8984,169,729.8984" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="64" x="169" y="696.8457">Model追加</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="169" y="712.1563">（フォーム）</text><line style="stroke:#A80036;stroke-width:1.0;" x1="162" x2="204" y1="774.5195" y2="774.5195"/><line style="stroke:#A80036;stroke-width:1.0;" x1="204" x2="204" y1="774.5195" y2="787.5195"/><line style="stroke:#A80036;stroke-width:1.0;" x1="163" x2="204" y1="787.5195" y2="787.5195"/><polygon fill="#A80036" points="173,783.5195,163,787.5195,173,791.5195,169,787.5195" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="64" x="169" y="754.4668">Model追加</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="143" x="169" y="769.7773">（商品カテゴリリスト）</text><line style="stroke:#A80036;stroke-width:1.0;" x1="162" x2="204" y1="832.1406" y2="832.1406"/><line style="stroke:#A80036;stroke-width:1.0;" x1="204" x2="204" y1="832.1406" y2="845.1406"/><line style="stroke:#A80036;stroke-width:1.0;" x1="163" x2="204" y1="845.1406" y2="845.1406"/><polygon fill="#A80036" points="173,841.1406,163,845.1406,173,849.1406,169,845.1406" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="64" x="169" y="812.0879">Model追加</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52" x="169" y="827.3984">（商品）</text><polygon fill="#A80036" points="45,870.4512,35,874.4512,45,878.4512,41,874.4512" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="39" x2="156" y1="874.4512" y2="874.4512"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52" x="51" y="869.709">入力画面</text><line style="stroke:#A80036;stroke-width:1.0;" x1="34" x2="76" y1="903.7617" y2="903.7617"/><line style="stroke:#A80036;stroke-width:1.0;" x1="76" x2="76" y1="903.7617" y2="916.7617"/><line style="stroke:#A80036;stroke-width:1.0;" x1="35" x2="76" y1="916.7617" y2="916.7617"/><polygon fill="#A80036" points="45,912.7617,35,916.7617,45,920.7617,41,916.7617" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="41" y="899.0195">商品情報修正</text><polygon fill="#A80036" points="140,942.0723,150,946.0723,140,950.0723,144,946.0723" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="34" x2="146" y1="946.0723" y2="946.0723"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="57" x="41" y="941.3301">confirm()</text><line style="stroke:#A80036;stroke-width:1.0;" x1="162" x2="204" y1="975.3828" y2="975.3828"/><line style="stroke:#A80036;stroke-width:1.0;" x1="204" x2="204" y1="975.3828" y2="988.3828"/><line style="stroke:#A80036;stroke-width:1.0;" x1="163" x2="204" y1="988.3828" y2="988.3828"/><polygon fill="#A80036" points="173,984.3828,163,988.3828,173,992.3828,169,988.3828" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65" x="169" y="970.6406">バリデート</text><path d="M89,1003.3828 L151,1003.3828 L151,1010.3828 L141,1020.3828 L89,1020.3828 L89,1003.3828 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="205.1289" style="stroke:#000000;stroke-width:2.0;" width="241" x="89" y="1003.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17" x="104" y="1016.9512">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="74" x="166" y="1016.0176">[画像修正あり]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="162" x2="204" y1="1057.3145" y2="1057.3145"/><line style="stroke:#A80036;stroke-width:1.0;" x1="204" x2="204" y1="1057.3145" y2="1070.3145"/><line style="stroke:#A80036;stroke-width:1.0;" x1="163" x2="204" y1="1070.3145" y2="1070.3145"/><polygon fill="#A80036" points="173,1066.3145,163,1070.3145,173,1074.3145,169,1070.3145" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="169" y="1037.2617">セッション追加</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109" x="169" y="1052.5723">（新画像Base64）</text><line style="stroke:#A80036;stroke-width:1.0;" x1="162" x2="204" y1="1114.9355" y2="1114.9355"/><line style="stroke:#A80036;stroke-width:1.0;" x1="204" x2="204" y1="1114.9355" y2="1127.9355"/><line style="stroke:#A80036;stroke-width:1.0;" x1="163" x2="204" y1="1127.9355" y2="1127.9355"/><polygon fill="#A80036" points="173,1123.9355,163,1127.9355,173,1131.9355,169,1127.9355" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="169" y="1094.8828">セッション追加</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="143" x="169" y="1110.1934">（新画像バイトデータ）</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="89" x2="330" y1="1136.9355" y2="1136.9355"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="74" x="94" y="1147.5703">[画像修正なし]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="162" x2="204" y1="1187.5117" y2="1187.5117"/><line style="stroke:#A80036;stroke-width:1.0;" x1="204" x2="204" y1="1187.5117" y2="1200.5117"/><line style="stroke:#A80036;stroke-width:1.0;" x1="163" x2="204" y1="1200.5117" y2="1200.5117"/><polygon fill="#A80036" points="173,1196.5117,163,1200.5117,173,1204.5117,169,1200.5117" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="64" x="169" y="1167.459">Model追加</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="149" x="169" y="1182.7695">（"/img/"+ファイル名）</text><polygon fill="#A80036" points="45,1232.8223,35,1236.8223,45,1240.8223,41,1236.8223" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="39" x2="156" y1="1236.8223" y2="1236.8223"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52" x="51" y="1232.0801">確認画面</text><line style="stroke:#A80036;stroke-width:1.0;" x1="34" x2="76" y1="1266.1328" y2="1266.1328"/><line style="stroke:#A80036;stroke-width:1.0;" x1="76" x2="76" y1="1266.1328" y2="1279.1328"/><line style="stroke:#A80036;stroke-width:1.0;" x1="35" x2="76" y1="1279.1328" y2="1279.1328"/><polygon fill="#A80036" points="45,1275.1328,35,1279.1328,45,1283.1328,41,1279.1328" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="41" y="1261.3906">入力内容確認</text><polygon fill="#A80036" points="140,1304.4434,150,1308.4434,140,1312.4434,144,1308.4434" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="34" x2="146" y1="1308.4434" y2="1308.4434"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="66" x="41" y="1303.7012">complete()</text><line style="stroke:#A80036;stroke-width:1.0;" x1="162" x2="204" y1="1337.7539" y2="1337.7539"/><line style="stroke:#A80036;stroke-width:1.0;" x1="204" x2="204" y1="1337.7539" y2="1350.7539"/><line style="stroke:#A80036;stroke-width:1.0;" x1="163" x2="204" y1="1350.7539" y2="1350.7539"/><polygon fill="#A80036" points="173,1346.7539,163,1350.7539,173,1354.7539,169,1350.7539" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="169" y="1333.0117">セッション確認</text><path d="M272,1324.9434 L272,1349.9434 L514,1349.9434 L514,1334.9434 L504,1324.9434 L272,1324.9434 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><path d="M504,1324.9434 L504,1334.9434 L514,1334.9434 L504,1324.9434 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="221" x="278" y="1342.5117">フォームが空の場合はシステムエラー</text><line style="stroke:#A80036;stroke-width:1.0;" x1="162" x2="204" y1="1395.375" y2="1395.375"/><line style="stroke:#A80036;stroke-width:1.0;" x1="204" x2="204" y1="1395.375" y2="1408.375"/><line style="stroke:#A80036;stroke-width:1.0;" x1="163" x2="204" y1="1408.375" y2="1408.375"/><polygon fill="#A80036" points="173,1404.375,163,1408.375,173,1412.375,169,1408.375" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="169" y="1375.3223">フォームから</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117" x="169" y="1390.6328">エンティティに変換</text><polygon fill="#A80036" points="610,1433.6855,620,1437.6855,610,1441.6855,614,1437.6855" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="162" x2="616" y1="1437.6855" y2="1437.6855"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99" x="169" y="1432.9434">update(Product)</text><polygon fill="#A80036" points="738,1462.9961,748,1466.9961,738,1470.9961,742,1466.9961" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="632" x2="744" y1="1466.9961" y2="1466.9961"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99" x="639" y="1462.2539">update(Product)</text><polygon fill="#A80036" points="935.5,1492.3066,945.5,1496.3066,935.5,1500.3066,939.5,1496.3066" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="760" x2="941.5" y1="1496.3066" y2="1496.3066"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="63" x="767" y="1491.5645">UPDATE文</text><polygon fill="#A80036" points="771,1521.6172,761,1525.6172,771,1529.6172,767,1525.6172" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="765" x2="951.5" y1="1525.6172" y2="1525.6172"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="27" x="777" y="1520.875">void</text><polygon fill="#A80036" points="643,1550.9277,633,1554.9277,643,1558.9277,639,1554.9277" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="637" x2="754" y1="1554.9277" y2="1554.9277"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="27" x="649" y="1550.1855">void</text><polygon fill="#A80036" points="843.5,1580.2383,853.5,1584.2383,843.5,1588.2383,847.5,1584.2383" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="632" x2="849.5" y1="1584.2383" y2="1584.2383"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="134" x="639" y="1579.4961">update(ProductStock)</text><polygon fill="#A80036" points="935.5,1609.5488,945.5,1613.5488,935.5,1617.5488,939.5,1613.5488" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="865.5" x2="941.5" y1="1613.5488" y2="1613.5488"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="63" x="872.5" y="1608.8066">UPDATE文</text><polygon fill="#A80036" points="876.5,1638.8594,866.5,1642.8594,876.5,1646.8594,872.5,1642.8594" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="870.5" x2="951.5" y1="1642.8594" y2="1642.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="27" x="882.5" y="1638.1172">void</text><polygon fill="#A80036" points="643,1668.1699,633,1672.1699,643,1676.1699,639,1672.1699" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="637" x2="859.5" y1="1672.1699" y2="1672.1699"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="27" x="649" y="1667.4277">void</text><polygon fill="#A80036" points="173,1697.4805,163,1701.4805,173,1705.4805,169,1701.4805" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="167" x2="626" y1="1701.4805" y2="1701.4805"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="27" x="179" y="1696.7383">void</text><line style="stroke:#A80036;stroke-width:1.0;" x1="162" x2="204" y1="1730.791" y2="1730.791"/><line style="stroke:#A80036;stroke-width:1.0;" x1="204" x2="204" y1="1730.791" y2="1743.791"/><line style="stroke:#A80036;stroke-width:1.0;" x1="163" x2="204" y1="1743.791" y2="1743.791"/><polygon fill="#A80036" points="173,1739.791,163,1743.791,173,1747.791,169,1743.791" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="169" y="1726.0488">セッション破棄</text><line style="stroke:#A80036;stroke-width:1.0;" x1="162" x2="204" y1="1773.1016" y2="1773.1016"/><line style="stroke:#A80036;stroke-width:1.0;" x1="204" x2="204" y1="1773.1016" y2="1786.1016"/><line style="stroke:#A80036;stroke-width:1.0;" x1="163" x2="204" y1="1786.1016" y2="1786.1016"/><polygon fill="#A80036" points="173,1782.1016,163,1786.1016,173,1790.1016,169,1786.1016" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129" x="169" y="1768.3594">Model追加（商品名）</text><polygon fill="#A80036" points="45,1811.4121,35,1815.4121,45,1819.4121,41,1815.4121" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="39" x2="156" y1="1815.4121" y2="1815.4121"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52" x="51" y="1810.6699">完了画面</text><!--MD5=[d1e0b0278f30aa871ed9861beab485bc]
@startuml
skin rose
skinparam shadowing false
hide empty methods
hide empty fields

title UC012: 商品修正機能 シーケンス図
skinparam shadowing false
actor "ユーザ" as user
activate user
participant "ProductUpdate\nController" as ctrl
participant "ProductCategory\nService" as svc1
participant "ProductCategory\nRepository" as repo1
participant "Product\nService" as svc2
participant "Product\nRepository" as repo2
participant "ProductStock\nRepository" as repo3
database DB as db

' 入力画面
user -> ctrl ++ : form(productId)
ctrl -> ctrl : setUpForm()
ctrl -> ctrl : bind()
ctrl -> svc1 ++ : findAll()
note right: 商品カテゴリリスト取得
svc1 -> repo1 ++ : findAll()
repo1 -> db ++ : SELECT文
db - -> repo1 - - : List<ProductCategory>
repo1 -> svc1 - - : List<ProductCategory>
svc1 - -> ctrl - - : List<ProductCategory>
ctrl -> svc2 ++ : findById(productId)
note right: 商品情報取得
svc2 -> repo2 ++ : findById\n(productId)
repo2 -> db ++ : SELECT文
db - -> repo2 - - : Product
repo2 - -> svc2 - - : Product
svc2 - -> ctrl - - : Product
ctrl -> ctrl : エンティティから\nフォームに変換
ctrl -> ctrl : Model追加\n（フォーム）
ctrl -> ctrl : Model追加\n（商品カテゴリリスト）
ctrl -> ctrl : Model追加\n（商品）
ctrl -> user - - : 入力画面

' 確認画面
user -> user : 商品情報修正
user -> ctrl ++ : confirm()
ctrl -> ctrl : バリデート
alt 画像修正あり
    ctrl -> ctrl : セッション追加\n（新画像Base64）
    ctrl -> ctrl : セッション追加\n（新画像バイトデータ）
else 画像修正なし
    ctrl -> ctrl : Model追加\n（"/img/"+ファイル名）
end
ctrl -> user - - : 確認画面

' 完了画面
user -> user : 入力内容確認
user -> ctrl ++ : complete()
ctrl -> ctrl : セッション確認
note right: フォームが空の場合はシステムエラー
ctrl -> ctrl : フォームから\nエンティティに変換
ctrl -> svc2 ++ : update(Product)
svc2 -> repo2 ++ : update(Product)
repo2 -> db ++ : UPDATE文
db - -> repo2 - - : void
repo2 - -> svc2 - - : void
svc2 -> repo3 ++ : update(ProductStock)
repo3 -> db ++ : UPDATE文
db - -> repo3 - - : void
repo3 - -> svc2 - - : void
svc2 - -> ctrl - - : void
ctrl -> ctrl : セッション破棄
ctrl -> ctrl : Model追加（商品名）
ctrl -> user - - : 完了画面

@enduml

@startuml
skin rose
skinparam shadowing false
hide empty methods
hide empty fields

title UC012: 商品修正機能 シーケンス図
skinparam shadowing false
actor "ユーザ" as user
activate user
participant "ProductUpdate\nController" as ctrl
participant "ProductCategory\nService" as svc1
participant "ProductCategory\nRepository" as repo1
participant "Product\nService" as svc2
participant "Product\nRepository" as repo2
participant "ProductStock\nRepository" as repo3
database DB as db

user -> ctrl ++ : form(productId)
ctrl -> ctrl : setUpForm()
ctrl -> ctrl : bind()
ctrl -> svc1 ++ : findAll()
note right: 商品カテゴリリスト取得
svc1 -> repo1 ++ : findAll()
repo1 -> db ++ : SELECT文
db - -> repo1 - - : List<ProductCategory>
repo1 -> svc1 - - : List<ProductCategory>
svc1 - -> ctrl - - : List<ProductCategory>
ctrl -> svc2 ++ : findById(productId)
note right: 商品情報取得
svc2 -> repo2 ++ : findById\n(productId)
repo2 -> db ++ : SELECT文
db - -> repo2 - - : Product
repo2 - -> svc2 - - : Product
svc2 - -> ctrl - - : Product
ctrl -> ctrl : エンティティから\nフォームに変換
ctrl -> ctrl : Model追加\n（フォーム）
ctrl -> ctrl : Model追加\n（商品カテゴリリスト）
ctrl -> ctrl : Model追加\n（商品）
ctrl -> user - - : 入力画面

user -> user : 商品情報修正
user -> ctrl ++ : confirm()
ctrl -> ctrl : バリデート
alt 画像修正あり
    ctrl -> ctrl : セッション追加\n（新画像Base64）
    ctrl -> ctrl : セッション追加\n（新画像バイトデータ）
else 画像修正なし
    ctrl -> ctrl : Model追加\n（"/img/"+ファイル名）
end
ctrl -> user - - : 確認画面

user -> user : 入力内容確認
user -> ctrl ++ : complete()
ctrl -> ctrl : セッション確認
note right: フォームが空の場合はシステムエラー
ctrl -> ctrl : フォームから\nエンティティに変換
ctrl -> svc2 ++ : update(Product)
svc2 -> repo2 ++ : update(Product)
repo2 -> db ++ : UPDATE文
db - -> repo2 - - : void
repo2 - -> svc2 - - : void
svc2 -> repo3 ++ : update(ProductStock)
repo3 -> db ++ : UPDATE文
db - -> repo3 - - : void
repo3 - -> svc2 - - : void
svc2 - -> ctrl - - : void
ctrl -> ctrl : セッション破棄
ctrl -> ctrl : Model追加（商品名）
ctrl -> user - - : 完了画面

@enduml

PlantUML version 1.2022.0(Wed Jan 12 01:16:42 JST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: ja
Country: JP
--></g></svg>